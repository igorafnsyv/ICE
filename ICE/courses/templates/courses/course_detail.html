<head>
{%load static%}
<link rel="stylesheet" type="text/css" href="{%static 'courses/style.css'%}">
<title> Course Detail </title>
<div id = "header">
<h2> Course Detail </h2>
</div>
</head>
<!--To whom it may concern, this weird notation is the syntax of Django template
It is same as templates we used for Node.js
-->

<h1>{{course.title}}</h1>
{#{course.id}#}

{% for module in modules%}
    <h3> Module {{module.position}}: {{module.title}}</h3>


    {% for component in module.components%}
        <h4> Lesson {{component.position}} : {{component}}  </h4>
      {% if component.image %}
        <img src="{{ component.image.url }}" alt="My image" width = 150, length = 150>
      {%endif%}
      {% if component.body %}
        <p>{{ component.body }}</p>
      {%endif%}
      <br>
    {%endfor%}

  <!--  <a href = "{%url 'add_component_url' module.id %} ">Add Component</a> -->
    <a href="{%url 'add_component_url' module.id %}"><button>Add Component</button></a>
    <br>
    {%if module.quiz_bank %}
        <i>{{module.quiz_bank.0}}</i>
    {% else %}
        <a href = "{% url 'add_quiz_url' module.id %}">Add quiz</a>
    {% endif %}
{% endfor %}

<br>
<button id = "new">Add module</button>


<script>
      var newModuleButton  = document.getElementById('new');
      newModuleButton.addEventListener("click", function() {

          document.location.href = "{% url 'create_module_url' course.id %}";
      });

</script>